<main>
  <main class="form-signin">
    <div class="mb-4" alt="">
      <% if @likes_count <= 5 %>
        <%= image_tag 'tankozo1.png', :size => '300x300'%>
      <% elsif @likes_count <= 9 %>
        <%= image_tag 'tankozo2.png', :size => '300x300'%>
      <% else%>
        <%= image_tag 'tankozo3.png', :size => '300x300'%>
      <% end %>
    </div>
    <h1 class="show-nickname"><%= @user.nickname %></h1>
    <div class="show-taste"><%= @user.favorite_taste.name %></div>
  </main>

  <h2 class="titlename">投稿リスト</h2>
  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <% if @user_restaurants.count == 0 %>
          <div class="no-list"><i class="fas fa-frog faa-bounce animated"></i> 未登録</div>
        <% else %>
          <% @user_restaurants.each do |restaurant| %>
            <div class="col">
              <div class="card shadow-sm h-100">
                <%= image_tag restaurant.image.variant( resize: "300x300^", gravity: "center", crop: "300x300+0+0" ), class: "bd-placeholder-img card-img-top h-100" %>
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <button type="button" class="btn btn-sm btn-outline-secondary"><%=link_to "View", restaurant_path(restaurant), class:"btn-outline-secondary user-show"%></button>
                      <% if user_signed_in? && current_user.id == @user.id %>
                        <button type="button" class="btn btn-sm btn-outline-secondary"><%=link_to "Edit", edit_restaurant_path(restaurant), class:"btn-outline-secondary user-show"%></button>
                      <% end %>
                    </div>
                    <small class="text-muted"><i class="fas fa-running faa-passing-reverse hope-btn" id="hope-btn"></i><%= restaurant.hopes.length %><i class="far fa-heart faa-ring like-btn" id="like-btn"></i><%= restaurant.likes.length %></small>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

 <h2 class="titlename">行きたいリスト</h2>
  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <% if @user_hopes.count == 0 %>
          <div class="no-list"><i class="fas fa-frog faa-bounce animated"></i> 未登録</div>
        <% else %>
          <% @user_hopes.each do |hope| %>
            <div class="col">
              <div class="card shadow-sm h-100">
                <%= image_tag hope.restaurant.image.variant( resize: "300x300^", gravity: "center", crop: "300x300+0+0" ), class: "bd-placeholder-img card-img-top h-100" %>
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <button type="button" class="btn btn-sm btn-outline-secondary"><%=link_to "View", restaurant_path(hope.restaurant), class:"btn-outline-secondary user-show"%></button>
                    </div>
                    <small class="text-muted hopelike-list"><%= hope.restaurant.name %><i class="fas fa-running faa-passing-reverse hope-btn" id="hope-btn"></i><%= hope.restaurant.prefecture.name %></small>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

 <h2 class="titlename">よかったリスト</h2>
  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <% if @user_likes.count == 0 %>
          <div class="no-list"><i class="fas fa-frog faa-bounce animated"></i> 未登録</div>
        <% else %>
          <% @user_likes.each do |like| %>
            <div class="col">
              <div class="card shadow-sm h-100">
                <%= image_tag like.restaurant.image.variant( resize: "300x300^", gravity: "center", crop: "300x300+0+0" ), class: "bd-placeholder-img card-img-top h-100" %>
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <button type="button" class="btn btn-sm btn-outline-secondary"><%=link_to "View", restaurant_path(like.restaurant), class:"btn-outline-secondary user-show"%></button>
                    </div>
                    <small class="text-muted hopelike-list"><%= like.restaurant.name %><i class="far fa-heart faa-ring like-btn" id="like-btn"></i><%= like.restaurant.prefecture.name %></small>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <p class="m-5 pb-4 text-center text-muted">&copy; Tankozo</p>

</main>